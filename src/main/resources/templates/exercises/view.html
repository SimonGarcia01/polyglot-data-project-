<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: header}"></head>
<body>
    <div th:replace="~{fragments/navbar :: navbar}"></div>

    <div class="container">
        <a th:href="@{/exercises}" class="btn btn-secondary">‚Üê Back to Exercise Library</a>

        <div class="card" th:if="${exercise != null}">
            <h1 class="card-title" th:text="${exercise.name}">Exercise Name</h1>

            <div class="exercise-details">
                <div class="detail-row">
                    <strong>Type:</strong>
                    <span class="badge" th:text="${exercise.type}"
                          th:classappend="${exercise.type == 'cardio' ? 'badge-cardio' : (exercise.type == 'fuerza' ? 'badge-strength' : 'badge-mobility')}">
                        Type
                    </span>
                </div>

                <div class="detail-row">
                    <strong>Difficulty:</strong>
                    <span class="badge" th:text="${exercise.difficulty}"
                          th:classappend="${exercise.difficulty == 'beginner' ? 'badge-beginner' : (exercise.difficulty == 'intermediate' ? 'badge-intermediate' : 'badge-advanced')}">
                        Difficulty
                    </span>
                </div>

                <div class="detail-row" th:if="${exercise.durationMin != null}">
                    <strong>Duration:</strong>
                    <span th:text="${exercise.durationMin} + ' minutes'">Duration</span>
                </div>

                <div class="detail-row" th:if="${exercise.createdBy != null}">
                    <strong>Created By:</strong>
                    <span th:text="${exercise.createdBy}">Creator</span>
                </div>

                <div class="detail-section">
                    <h3>Description</h3>
                    <p th:text="${exercise.description}">Exercise description goes here.</p>
                </div>

                <div class="detail-section" th:if="${exercise.videoUrl != null and !exercise.videoUrl.empty}">
                    <h3>Demonstration Video</h3>
                    <div class="video-container">
                        <a th:href="${exercise.videoUrl}" target="_blank" class="btn btn-primary">Watch Video</a>
                        <p><small th:text="${exercise.videoUrl}">Video URL</small></p>
                    </div>
                </div>
            </div>

            <!-- Actions -->
            <div class="card-actions">
                <a th:href="@{/exercises/{id}/edit(id=${exercise.id})}" class="btn btn-primary">Edit Exercise</a>
                <form th:action="@{/exercises/{id}/delete(id=${exercise.id})}" method="post" style="display: inline;"
                      onsubmit="return confirm('Are you sure you want to delete this exercise?');">
                    <button type="submit" class="btn btn-danger">Delete Exercise</button>
                </form>
            </div>
        </div>

        <!-- Exercise Not Found -->
        <div class="card" th:if="${exercise == null}">
            <h2 class="card-title">Exercise Not Found</h2>
            <p>The exercise you're looking for doesn't exist.</p>
            <a th:href="@{/exercises}" class="btn btn-primary">Back to Exercise Library</a>
        </div>
    </div>

    <div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>
